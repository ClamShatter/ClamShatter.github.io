<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module ActiveSupport::Deprecation::Reporting - activesupport-6.1.3.2 Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/navigation.js" defer></script>
<script src="../../js/search.js" defer></script>
<script src="../../js/search_index.js" defer></script>
<script src="../../js/searcher.js" defer></script>
<script src="../../js/darkfish.js" defer></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-_extract_callstack">#_extract_callstack</a>
    
    <li ><a href="#method-i-allow">#allow</a>
    
    <li ><a href="#method-i-deprecated_method_warning">#deprecated_method_warning</a>
    
    <li ><a href="#method-i-deprecation_caller_message">#deprecation_caller_message</a>
    
    <li ><a href="#method-i-deprecation_message">#deprecation_message</a>
    
    <li ><a href="#method-i-deprecation_warning">#deprecation_warning</a>
    
    <li ><a href="#method-i-extract_callstack">#extract_callstack</a>
    
    <li ><a href="#method-i-ignored_callstack">#ignored_callstack</a>
    
    <li ><a href="#method-i-silence">#silence</a>
    
    <li ><a href="#method-i-silenced">#silenced</a>
    
    <li ><a href="#method-i-warn">#warn</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-ActiveSupport::Deprecation::Reporting">
  <h1 id="module-ActiveSupport::Deprecation::Reporting" class="module">
    module ActiveSupport::Deprecation::Reporting
  </h1>

  <section class="description">
    
  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="RAILS_GEM_ROOT">RAILS_GEM_ROOT
        
        <dd>
        
      
      </dl>
    </section>
    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-gem_name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">gem_name</span><span
            class="attribute-access-type">[RW]</span>
        </div>

        <div class="method-description">
        
        <p>Name of gem where method is deprecated</p>
        
        </div>
      </div>
      
      <div id="attribute-i-silenced" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">silenced</span><span
            class="attribute-access-type">[W]</span>
        </div>

        <div class="method-description">
        
        <p>Whether to print a message (silent mode)</p>
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-allow" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allow</span><span
            class="method-args">(allowed_warnings = :all, if: true) { || ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Allow previously disallowed deprecation warnings within the block. <code>allowed_warnings</code> can be an array containing strings, symbols, or regular expressions. (Symbols are treated as strings). These are compared against the text of deprecation warning messages generated within the block. Matching warnings will be exempt from the rules set by <code>ActiveSupport::Deprecation.disallowed_warnings</code></p>

<p>The optional <code>if:</code> argument accepts a truthy/falsy value or an object that responds to <code>.call</code>. If truthy, then matching warnings will be allowed. If falsey then the method yields to the block without allowing the warning.</p>

<pre class="ruby"><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">disallowed_behavior</span> = <span class="ruby-value">:raise</span>
<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">disallowed_warnings</span> = [
  <span class="ruby-string">&quot;something broke&quot;</span>
]

<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;something broke!&#39;</span>)
<span class="ruby-comment"># =&gt; ActiveSupport::DeprecationException</span>

<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">allow</span> [<span class="ruby-string">&#39;something broke&#39;</span>] <span class="ruby-keyword">do</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;something broke!&#39;</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-comment"># =&gt; nil</span>

<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">allow</span> [<span class="ruby-string">&#39;something broke&#39;</span>], <span class="ruby-value">if:</span> <span class="ruby-constant">Rails</span>.<span class="ruby-identifier">env</span>.<span class="ruby-identifier">production?</span> <span class="ruby-keyword">do</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;something broke!&#39;</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-comment"># =&gt; ActiveSupport::DeprecationException for dev/test, nil for production</span>
</pre>
          
          

          
          <div class="method-source-code" id="allow-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 72</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">allow</span>(<span class="ruby-identifier">allowed_warnings</span> = <span class="ruby-value">:all</span>, <span class="ruby-value">if:</span> <span class="ruby-keyword">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">conditional</span> = <span class="ruby-identifier">binding</span>.<span class="ruby-identifier">local_variable_get</span>(<span class="ruby-value">:if</span>)
  <span class="ruby-identifier">conditional</span> = <span class="ruby-identifier">conditional</span>.<span class="ruby-identifier">call</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">conditional</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:call</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">conditional</span>
    <span class="ruby-ivar">@explicitly_allowed_warnings</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-identifier">allowed_warnings</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">yield</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-deprecation_warning" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deprecation_warning</span><span
            class="method-args">(deprecated_method_name, message = nil, caller_backtrace = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="deprecation_warning-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 86</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">deprecation_warning</span>(<span class="ruby-identifier">deprecated_method_name</span>, <span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">caller_backtrace</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">caller_backtrace</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">caller_locations</span>(<span class="ruby-value">2</span>)
  <span class="ruby-identifier">deprecated_method_warning</span>(<span class="ruby-identifier">deprecated_method_name</span>, <span class="ruby-identifier">message</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">msg</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">warn</span>(<span class="ruby-identifier">msg</span>, <span class="ruby-identifier">caller_backtrace</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-silence" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">silence</span><span
            class="method-args">(&amp;block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Silence deprecation warnings within the block.</p>

<pre class="ruby"><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;something broke!&#39;</span>)
<span class="ruby-comment"># =&gt; &quot;DEPRECATION WARNING: something broke! (called from your_code.rb:1)&quot;</span>

<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">silence</span> <span class="ruby-keyword">do</span>
  <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;something broke!&#39;</span>)
<span class="ruby-keyword">end</span>
<span class="ruby-comment"># =&gt; nil</span>
</pre>
          
          

          
          <div class="method-source-code" id="silence-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">silence</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@silenced_thread</span>.<span class="ruby-identifier">bind</span>(<span class="ruby-keyword">true</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-silenced" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">silenced</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="silenced-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">silenced</span>
  <span class="ruby-ivar">@silenced</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@silenced_thread</span>.<span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-warn" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">warn</span><span
            class="method-args">(message = nil, callstack = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Outputs a deprecation warning to the output configured by <code>ActiveSupport::Deprecation.behavior</code>.</p>

<pre class="ruby"><span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">Deprecation</span>.<span class="ruby-identifier">warn</span>(<span class="ruby-string">&#39;something broke!&#39;</span>)
<span class="ruby-comment"># =&gt; &quot;DEPRECATION WARNING: something broke! (called from your_code.rb:1)&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="warn-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 18</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">warn</span>(<span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">callstack</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">silenced</span>

  <span class="ruby-identifier">callstack</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">caller_locations</span>(<span class="ruby-value">2</span>)
  <span class="ruby-identifier">deprecation_message</span>(<span class="ruby-identifier">callstack</span>, <span class="ruby-identifier">message</span>).<span class="ruby-identifier">tap</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">m</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">deprecation_disallowed?</span>(<span class="ruby-identifier">message</span>)
      <span class="ruby-identifier">disallowed_behavior</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">m</span>, <span class="ruby-identifier">callstack</span>, <span class="ruby-identifier">deprecation_horizon</span>, <span class="ruby-identifier">gem_name</span>) }
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">behavior</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span> <span class="ruby-identifier">b</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">m</span>, <span class="ruby-identifier">callstack</span>, <span class="ruby-identifier">deprecation_horizon</span>, <span class="ruby-identifier">gem_name</span>) }
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-_extract_callstack" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_extract_callstack</span><span
            class="method-args">(callstack)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="_extract_callstack-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">_extract_callstack</span>(<span class="ruby-identifier">callstack</span>)
  <span class="ruby-identifier">warn</span> <span class="ruby-string">&quot;Please pass `caller_locations` to the deprecation API&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
  <span class="ruby-identifier">offending_line</span> = <span class="ruby-identifier">callstack</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ignored_callstack</span>(<span class="ruby-identifier">line</span>) } <span class="ruby-operator">||</span> <span class="ruby-identifier">callstack</span>.<span class="ruby-identifier">first</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">offending_line</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">md</span> = <span class="ruby-identifier">offending_line</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp">/^(.+?):(\d+)(?::in `(.*?)&#39;)?/</span>)
      <span class="ruby-identifier">md</span>.<span class="ruby-identifier">captures</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">offending_line</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-deprecated_method_warning" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deprecated_method_warning</span><span
            class="method-args">(method_name, message = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Outputs a deprecation warning message</p>

<pre class="ruby"><span class="ruby-identifier">deprecated_method_warning</span>(<span class="ruby-value">:method_name</span>)
<span class="ruby-comment"># =&gt; &quot;method_name is deprecated and will be removed from Rails #{deprecation_horizon}&quot;</span>
<span class="ruby-identifier">deprecated_method_warning</span>(<span class="ruby-value">:method_name</span>, <span class="ruby-value">:another_method</span>)
<span class="ruby-comment"># =&gt; &quot;method_name is deprecated and will be removed from Rails #{deprecation_horizon} (use another_method instead)&quot;</span>
<span class="ruby-identifier">deprecated_method_warning</span>(<span class="ruby-value">:method_name</span>, <span class="ruby-string">&quot;Optional message&quot;</span>)
<span class="ruby-comment"># =&gt; &quot;method_name is deprecated and will be removed from Rails #{deprecation_horizon} (Optional message)&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="deprecated_method_warning-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">deprecated_method_warning</span>(<span class="ruby-identifier">method_name</span>, <span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">warning</span> = <span class="ruby-node">&quot;#{method_name} is deprecated and will be removed from #{gem_name} #{deprecation_horizon}&quot;</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">message</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Symbol</span> <span class="ruby-keyword">then</span> <span class="ruby-node">&quot;#{warning} (use #{message} instead)&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span> <span class="ruby-keyword">then</span> <span class="ruby-node">&quot;#{warning} (#{message})&quot;</span>
  <span class="ruby-keyword">else</span> <span class="ruby-identifier">warning</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-deprecation_caller_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deprecation_caller_message</span><span
            class="method-args">(callstack)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="deprecation_caller_message-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 116</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">deprecation_caller_message</span>(<span class="ruby-identifier">callstack</span>)
  <span class="ruby-identifier">file</span>, <span class="ruby-identifier">line</span>, <span class="ruby-identifier">method</span> = <span class="ruby-identifier">extract_callstack</span>(<span class="ruby-identifier">callstack</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">file</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">line</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">method</span>
      <span class="ruby-node">&quot;(called from #{method} at #{file}:#{line})&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-node">&quot;(called from #{file}:#{line})&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-deprecation_message" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">deprecation_message</span><span
            class="method-args">(callstack, message = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="deprecation_message-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">deprecation_message</span>(<span class="ruby-identifier">callstack</span>, <span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">message</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&quot;You are using deprecated behavior which will be removed from the next major or minor release.&quot;</span>
  <span class="ruby-node">&quot;DEPRECATION WARNING: #{message} #{deprecation_caller_message(callstack)}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-extract_callstack" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">extract_callstack</span><span
            class="method-args">(callstack)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="extract_callstack-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extract_callstack</span>(<span class="ruby-identifier">callstack</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">_extract_callstack</span>(<span class="ruby-identifier">callstack</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">callstack</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>

  <span class="ruby-identifier">offending_line</span> = <span class="ruby-identifier">callstack</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">frame</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">frame</span>.<span class="ruby-identifier">absolute_path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">ignored_callstack</span>(<span class="ruby-identifier">frame</span>.<span class="ruby-identifier">absolute_path</span>)
  } <span class="ruby-operator">||</span> <span class="ruby-identifier">callstack</span>.<span class="ruby-identifier">first</span>

  [<span class="ruby-identifier">offending_line</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">offending_line</span>.<span class="ruby-identifier">lineno</span>, <span class="ruby-identifier">offending_line</span>.<span class="ruby-identifier">label</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ignored_callstack" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ignored_callstack</span><span
            class="method-args">(path)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ignored_callstack-source">
            <pre><span class="ruby-comment"># File lib/active_support/deprecation/reporting.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ignored_callstack</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-identifier">path</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-constant">RAILS_GEM_ROOT</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">start_with?</span>(<span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&quot;rubylibdir&quot;</span>])
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

