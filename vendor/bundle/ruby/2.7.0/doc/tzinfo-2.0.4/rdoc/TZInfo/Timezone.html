<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class TZInfo::Timezone - TZInfo</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/navigation.js" defer></script>
<script src="../js/search.js" defer></script>
<script src="../js/search_index.js" defer></script>
<script src="../js/searcher.js" defer></script>
<script src="../js/darkfish.js" defer></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    <div id="includes-section" class="nav-section">
  <h3>Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Comparable</span>
  
  
  </ul>
</div>

    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-_load">::_load</a>
    
    <li ><a href="#method-c-all">::all</a>
    
    <li ><a href="#method-c-all_country_zone_identifiers">::all_country_zone_identifiers</a>
    
    <li ><a href="#method-c-all_country_zones">::all_country_zones</a>
    
    <li ><a href="#method-c-all_data_zone_identifiers">::all_data_zone_identifiers</a>
    
    <li ><a href="#method-c-all_data_zones">::all_data_zones</a>
    
    <li ><a href="#method-c-all_identifiers">::all_identifiers</a>
    
    <li ><a href="#method-c-all_linked_zone_identifiers">::all_linked_zone_identifiers</a>
    
    <li ><a href="#method-c-all_linked_zones">::all_linked_zones</a>
    
    <li ><a href="#method-c-data_source">::data_source</a>
    
    <li ><a href="#method-c-default_dst">::default_dst</a>
    
    <li ><a href="#method-c-default_dst-3D">::default_dst=</a>
    
    <li ><a href="#method-c-get">::get</a>
    
    <li ><a href="#method-c-get_proxies">::get_proxies</a>
    
    <li ><a href="#method-c-get_proxy">::get_proxy</a>
    
    <li ><a href="#method-i-3C-3D-3E">#&lt;=&gt;</a>
    
    <li ><a href="#method-i-3D~">#=~</a>
    
    <li ><a href="#method-i-_dump">#_dump</a>
    
    <li ><a href="#method-i-abbr">#abbr</a>
    
    <li ><a href="#method-i-abbreviation">#abbreviation</a>
    
    <li ><a href="#method-i-base_utc_offset">#base_utc_offset</a>
    
    <li ><a href="#method-i-canonical_identifier">#canonical_identifier</a>
    
    <li ><a href="#method-i-canonical_zone">#canonical_zone</a>
    
    <li ><a href="#method-i-current_period">#current_period</a>
    
    <li ><a href="#method-i-current_period_and_time">#current_period_and_time</a>
    
    <li ><a href="#method-i-current_time_and_period">#current_time_and_period</a>
    
    <li ><a href="#method-i-dst-3F">#dst?</a>
    
    <li ><a href="#method-i-eql-3F">#eql?</a>
    
    <li ><a href="#method-i-friendly_identifier">#friendly_identifier</a>
    
    <li ><a href="#method-i-hash">#hash</a>
    
    <li ><a href="#method-i-identifier">#identifier</a>
    
    <li ><a href="#method-i-inspect">#inspect</a>
    
    <li ><a href="#method-i-local_datetime">#local_datetime</a>
    
    <li ><a href="#method-i-local_time">#local_time</a>
    
    <li ><a href="#method-i-local_timestamp">#local_timestamp</a>
    
    <li ><a href="#method-i-local_to_utc">#local_to_utc</a>
    
    <li ><a href="#method-i-name">#name</a>
    
    <li ><a href="#method-i-now">#now</a>
    
    <li ><a href="#method-i-observed_utc_offset">#observed_utc_offset</a>
    
    <li ><a href="#method-i-offsets_up_to">#offsets_up_to</a>
    
    <li ><a href="#method-i-period_for">#period_for</a>
    
    <li ><a href="#method-i-period_for_local">#period_for_local</a>
    
    <li ><a href="#method-i-period_for_utc">#period_for_utc</a>
    
    <li ><a href="#method-i-periods_for_local">#periods_for_local</a>
    
    <li ><a href="#method-i-raise_unknown_timezone">#raise_unknown_timezone</a>
    
    <li ><a href="#method-i-strftime">#strftime</a>
    
    <li ><a href="#method-i-to_local">#to_local</a>
    
    <li ><a href="#method-i-to_s">#to_s</a>
    
    <li ><a href="#method-i-transitions_up_to">#transitions_up_to</a>
    
    <li ><a href="#method-i-utc_offset">#utc_offset</a>
    
    <li ><a href="#method-i-utc_to_local">#utc_to_local</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-TZInfo::Timezone">
  <h1 id="class-TZInfo::Timezone" class="class">
    class TZInfo::Timezone
  </h1>

  <section class="description">
    
<p>The {Timezone} class represents a time zone. It provides a factory method, {get}, to retrieve {Timezone} instances by their identifier.</p>

<p>The {Timezone#to_local} method can be used to convert `Time` and `DateTime` instances to the local time for the zone. For example:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">local_time</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">8</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">35</span>,<span class="ruby-value">0</span>))
<span class="ruby-identifier">local_datetime</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">8</span>,<span class="ruby-value">29</span>,<span class="ruby-value">15</span>,<span class="ruby-value">35</span>,<span class="ruby-value">0</span>))
</pre>

<p>Local `Time` and `DateTime` instances returned by `Timezone` have the correct local offset.</p>

<p>The {Timezone#local_to_utc} method can by used to convert local `Time` and `DateTime` instances to UTC. {Timezone#local_to_utc} ignores the UTC offset of the supplied value and treats if it is a local time for the zone. For example:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">utc_time</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">8</span>,<span class="ruby-value">29</span>,<span class="ruby-value">11</span>,<span class="ruby-value">35</span>,<span class="ruby-value">0</span>))
<span class="ruby-identifier">utc_datetime</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2005</span>,<span class="ruby-value">8</span>,<span class="ruby-value">29</span>,<span class="ruby-value">11</span>,<span class="ruby-value">35</span>,<span class="ruby-value">0</span>))
</pre>

<p>Each time zone is treated as sequence of periods of time ({TimezonePeriod}) that observe the same offset ({TimezoneOffset}). Transitions ({TimezoneTransition}) denote the end of one period and the start of the next. The {Timezone} class has methods that allow the periods, offsets and transitions of a time zone to be interrogated.</p>

<p>All methods that take `Time` objects as parameters can be used with arbitrary `Time`-like objects that respond to both `to_i` and `subsec` and optionally `utc_offset`.</p>

<p>The {Timezone} class is thread-safe. It is safe to use class and instance methods of {Timezone} in concurrently executing threads. Instances of {Timezone} can be shared across thread boundaries.</p>

<p>The IANA Time Zone Database maintainers recommend that time zone identifiers are not made visible to end-users (see [Names of timezones](<a href="https://data.iana.org/time-zones/theory.html#naming">data.iana.org/time-zones/theory.html#naming</a>)). The {Country} class can be used to obtain lists of time zones by country, including user-friendly descriptions and approximate locations.</p>

<p>@abstract The {get} method returns an instance of either {DataTimezone} or</p>

<pre>{LinkedTimezone}. The {get_proxy} method and other methods returning
collections of time zones return instances of {TimezoneProxy}.</pre>

  </section>

  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-_load" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_load</span><span
            class="method-args">(data)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Loads a {Timezone} from the serialized representation returned by {_dump}. This is method is called when using `Marshal.load` or `Marshal.restore` to restore a serialized {Timezone}.</p>

<p>@param data [String] a serialized representation of a {Timezone}. @return [Timezone] the result of converting `data` back into a {Timezone}.</p>
          
          

          
          <div class="method-source-code" id="_load-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1147</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">_load</span>(<span class="ruby-identifier">data</span>)
  <span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-identifier">data</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an `Array` of all the available time zones.</p>

<p>{TimezoneProxy} instances are returned to avoid the overhead of loading time zone data until it is first needed.</p>

<p>@return [Array&lt;Timezone&gt;] all available time zones.</p>
          
          

          
          <div class="method-source-code" id="all-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all</span>
  <span class="ruby-identifier">get_proxies</span>(<span class="ruby-identifier">all_identifiers</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_country_zone_identifiers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_country_zone_identifiers</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an `Array` of the identifiers of all the time zones that are observed by at least one {Country}. This is not the complete set of time zone identifiers as some are not country specific (e.g. `&#39;Etc/GMT&#39;`).</p>

<p>{TimezoneProxy} instances are returned to avoid the overhead of loading time zone data until it is first needed.</p>

<p>@return [Array&lt;String&gt;] an `Array` of the identifiers of all the time zones that are observed by at least one {Country}.</p>
          
          

          
          <div class="method-source-code" id="all_country_zone_identifiers-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_country_zone_identifiers</span>
  <span class="ruby-constant">Country</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:zone_identifiers</span>).<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_country_zones" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_country_zones</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an `Array` of all the time zones that are observed by at least one {Country}. This is not the complete set of time zones as some are not country specific (e.g. `&#39;Etc/GMT&#39;`).</p>

<p>{TimezoneProxy} instances are returned to avoid the overhead of loading time zone data until it is first needed.</p>

<p>@return [Array&lt;Timezone&gt;] an `Array` of all the time zones that are</p>

<pre>observed by at least one {Country}.</pre>
          
          

          
          <div class="method-source-code" id="all_country_zones-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_country_zones</span>
  <span class="ruby-constant">Country</span>.<span class="ruby-identifier">all</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:zones</span>).<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_data_zone_identifiers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_data_zone_identifiers</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Array&lt;String&gt;] an `Array` of the identifiers of all available time zones that are defined by offsets and transitions.</p>
          
          

          
          <div class="method-source-code" id="all_data_zone_identifiers-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_data_zone_identifiers</span>
  <span class="ruby-identifier">data_source</span>.<span class="ruby-identifier">data_timezone_identifiers</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_data_zones" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_data_zones</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an `Array` of all the available time zones that are defined by offsets and transitions.</p>

<p>{TimezoneProxy} instances are returned to avoid the overhead of loading time zone data until it is first needed.</p>

<p>@return [Array&lt;Timezone&gt;] an `Array` of all the available time zones</p>

<pre>that are defined by offsets and transitions.</pre>
          
          

          
          <div class="method-source-code" id="all_data_zones-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_data_zones</span>
  <span class="ruby-identifier">get_proxies</span>(<span class="ruby-identifier">all_data_zone_identifiers</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_identifiers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_identifiers</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Array&lt;String&gt;] an `Array` containing the identifiers of all the</p>

<pre>available time zones.</pre>
          
          

          
          <div class="method-source-code" id="all_identifiers-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_identifiers</span>
  <span class="ruby-identifier">data_source</span>.<span class="ruby-identifier">timezone_identifiers</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_linked_zone_identifiers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_linked_zone_identifiers</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Array&lt;String&gt;] an `Array` of the identifiers of all available time zones that are defined as links to / aliases for other time zones.</p>
          
          

          
          <div class="method-source-code" id="all_linked_zone_identifiers-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_linked_zone_identifiers</span>
  <span class="ruby-identifier">data_source</span>.<span class="ruby-identifier">linked_timezone_identifiers</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-all_linked_zones" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">all_linked_zones</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an `Array` of all the available time zones that are defined as links to / aliases for other time zones.</p>

<p>{TimezoneProxy} instances are returned to avoid the overhead of loading time zone data until it is first needed.</p>

<p>@return [Array&lt;Timezone&gt;] an `Array` of all the available time zones</p>

<pre>that are defined as links to / aliases for other time zones.</pre>
          
          

          
          <div class="method-source-code" id="all_linked_zones-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 187</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">all_linked_zones</span>
  <span class="ruby-identifier">get_proxies</span>(<span class="ruby-identifier">all_linked_zone_identifiers</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-default_dst" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_dst</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the default value of the optional `dst` parameter of the {local_time}, {local_datetime} and {local_timestamp}, {local_to_utc} and {period_for_local} methods (`nil`, `true` or `false`).</p>

<p>{default_dst} defaults to `nil` unless changed with {default_dst=}.</p>

<p>@return [Boolean] the default value of the optional `dst` parameter of</p>

<pre>the {local_time}, {local_datetime} and {local_timestamp},
{local_to_utc} and {period_for_local} methods (`nil`, `true` or
`false`).</pre>
          
          

          
          <div class="method-source-code" id="default_dst-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">default_dst</span>
  <span class="ruby-identifier">@@default_dst</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-default_dst-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_dst=</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the default value of the optional `dst` parameter of the {local_datetime}, {local_time}, {local_timestamp}, {local_to_utc} and {period_for_local} methods. Can be set to `nil`, `true` or `false`.</p>

<p>@param value [Boolean] `nil`, `true` or `false`.</p>
          
          

          
          <div class="method-source-code" id="default_dst-3D-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">default_dst=</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-identifier">@@default_dst</span> = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-get" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get</span><span
            class="method-args">(identifier)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a time zone by its IANA Time Zone Database identifier (e.g. `“Europe/London”` or `“America/Chicago”`). Call {all_identifiers} for a list of all the valid identifiers.</p>

<p>The {get} method will return a subclass of {Timezone}, either a {DataTimezone} (for a time zone defined by rules that set out when transitions occur) or a {LinkedTimezone} (for a time zone that is just a link to or alias for a another time zone).</p>

<p>@param identifier [String] an IANA Time Zone Database time zone</p>

<pre>identifier.</pre>

<p>@return [Timezone] the {Timezone} with the given `identifier`. @raise [InvalidTimezoneIdentifier] if the `identifier` is not valid.</p>
          
          

          
          <div class="method-source-code" id="get-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get</span>(<span class="ruby-identifier">identifier</span>)
  <span class="ruby-identifier">data_source</span>.<span class="ruby-identifier">get_timezone_info</span>(<span class="ruby-identifier">identifier</span>).<span class="ruby-identifier">create_timezone</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-get_proxy" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_proxy</span><span
            class="method-args">(identifier)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a proxy for the time zone with the given identifier. This allows loading of the time zone data to be deferred until it is first needed.</p>

<p>The identifier will not be validated. If an invalid identifier is specified, no exception will be raised until the proxy is used.</p>

<p>@param identifier [String] an IANA Time Zone Database time zone</p>

<pre>identifier.</pre>

<p>@return [TimezoneProxy] a proxy for the time zone with the given</p>

<pre>`identifier`.</pre>
          
          

          
          <div class="method-source-code" id="get_proxy-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_proxy</span>(<span class="ruby-identifier">identifier</span>)
  <span class="ruby-constant">TimezoneProxy</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">identifier</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Class Methods</h3>
       </header>

    
      <div id="method-c-data_source" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">data_source</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [DataSource] the current <a href="DataSource.html"><code>DataSource</code></a>.</p>
          
          

          
          <div class="method-source-code" id="data_source-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 234</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">data_source</span>
  <span class="ruby-constant">DataSource</span>.<span class="ruby-identifier">get</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-c-get_proxies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_proxies</span><span
            class="method-args">(identifiers)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param [Enumerable&lt;String&gt;] identifiers an `Enumerable` of time zone</p>

<pre>identifiers.</pre>

<p>@return [Array&lt;TimezoneProxy&gt;] an `Array` of {TimezoneProxy}</p>

<pre>instances corresponding to the given identifiers.</pre>
          
          

          
          <div class="method-source-code" id="get_proxies-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">get_proxies</span>(<span class="ruby-identifier">identifiers</span>)
  <span class="ruby-identifier">identifiers</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">identifier</span><span class="ruby-operator">|</span> <span class="ruby-identifier">get_proxy</span>(<span class="ruby-identifier">identifier</span>)}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-3C-3D-3E" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">&lt;=&gt;</span><span
            class="method-args">(tz)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Compares this {Timezone} with another based on the {identifier}.</p>

<p>@param tz [Object] an `Object` to compare this {Timezone} with. @return [Integer] -1 if `tz` is less than `self`, 0 if `tz` is equal to</p>

<pre>`self` and +1 if `tz` is greater than `self`, or `nil` if `tz` is not an
instance of {Timezone}.</pre>
          
          

          
          <div class="method-source-code" id="3C-3D-3E-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1105</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">&lt;=&gt;</span>(<span class="ruby-identifier">tz</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Timezone</span>)
  <span class="ruby-identifier">identifier</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">identifier</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-3D~" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">=~</span><span
            class="method-args">(regexp)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Matches `regexp` against the {identifier} of this {Timezone}.</p>

<p>@param regexp [Regexp] a `Regexp` to match against the {identifier} of</p>

<pre>this {Timezone}.</pre>

<p>@return [Integer] the position the match starts, or `nil` if there is no</p>

<pre>match.</pre>
          
          

          
          <div class="method-source-code" id="3D~-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">=~</span>(<span class="ruby-identifier">regexp</span>)
  <span class="ruby-identifier">regexp</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">identifier</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-_dump" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">_dump</span><span
            class="method-args">(limit)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns a serialized representation of this {Timezone}. This method is called when using `Marshal.dump` with an instance of {Timezone}.</p>

<p>@param limit [Integer] the maximum depth to dump - ignored. @return [String] a serialized representation of this {Timezone}.</p>
          
          

          
          <div class="method-source-code" id="_dump-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">_dump</span>(<span class="ruby-identifier">limit</span>)
  <span class="ruby-identifier">identifier</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-abbr" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">abbr</span><span
            class="method-args">(time = Time.now)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Timezone.html#method-i-abbreviation">abbreviation</a>
        </div>
        
      </div>

    
      <div id="method-i-abbreviation" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">abbreviation</span><span
            class="method-args">(time = Time.now)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param time [Object] a `Time`, `DateTime` or `Timestamp`. @return [String] the abbreviation of this {Timezone} at the given time. @raise [ArgumentError] if `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} with an unspecified UTC</p>

<pre>offset.</pre>
          
          

          
          <div class="method-source-code" id="abbreviation-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1048</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">abbreviation</span>(<span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
  <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">time</span>).<span class="ruby-identifier">abbreviation</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Timezone.html#method-i-abbr">abbr</a>
        </div>
        

        
      </div>

    
      <div id="method-i-base_utc_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">base_utc_offset</span><span
            class="method-args">(time = Time.now)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the base offset from UTC in seconds at the given time. This does not include any adjustment made for daylight savings time and will typically remain constant throughout the year.</p>

<p>To obtain the observed offset from UTC, including the effect of daylight savings time, use {observed_utc_offset} instead.</p>

<p>If you require accurate {base_utc_offset} values, you should install the tzinfo-data gem and set {DataSources::RubyDataSource} as the {DataSource}. When using {DataSources::ZoneinfoDataSource}, the value of {base_utc_offset} has to be derived from changes to the observed UTC offset and DST status since it is not included in zoneinfo files.</p>

<p>@param time [Object] a `Time`, `DateTime` or `Timestamp`. @return [Integer] the base offset from UTC in seconds at the given time. @raise [ArgumentError] if `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} with an unspecified UTC</p>

<pre>offset.</pre>
          
          

          
          <div class="method-source-code" id="base_utc_offset-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1081</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">base_utc_offset</span>(<span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
  <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">time</span>).<span class="ruby-identifier">base_utc_offset</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-canonical_identifier" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">canonical_identifier</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the canonical identifier of this time zone.</p>

<p>This is a shortcut for calling `canonical_zone.identifier`. Please refer to the {canonical_zone} documentation for further information.</p>

<p>@return [String] the canonical identifier of this time zone.</p>
          
          

          
          <div class="method-source-code" id="canonical_identifier-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 987</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">canonical_identifier</span>
  <span class="ruby-identifier">canonical_zone</span>.<span class="ruby-identifier">identifier</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-canonical_zone" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">canonical_zone</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the canonical {Timezone} instance for this {Timezone}.</p>

<p>The IANA Time Zone database contains two types of definition: Zones and Links. Zones are defined by rules that set out when transitions occur. Links are just references to fully defined Zone, creating an alias for that Zone.</p>

<p>Links are commonly used where a time zone has been renamed in a release of the Time Zone database. For example, the US/Eastern Zone was renamed as America/New_York. A US/Eastern Link was added in its place, linking to (and creating an alias for) America/New_York.</p>

<p>Links are also used for time zones that are currently identical to a full Zone, but that are administered separately. For example, Europe/Vatican is a Link to (and alias for) Europe/Rome.</p>

<p>For a full Zone (implemented by {DataTimezone}), {canonical_zone} returns self.</p>

<p>For a Link (implemented by {LinkedTimezone}), {canonical_zone} returns a {Timezone} instance representing the full Zone that the link targets.</p>

<p><a href="../TZInfo.html"><code>TZInfo</code></a> can be used with different data sources (see the documentation for {TZInfo::DataSource}). Some <a href="DataSource.html"><code>DataSource</code></a> implementations may not support distinguishing between full Zones and Links and will treat all time zones as full Zones. In this case, {canonical_zone} will always return `self`.</p>

<p>There are two built-in <a href="DataSource.html"><code>DataSource</code></a> implementations. {DataSources::RubyDataSource} (which will be used if the tzinfo-data gem is available) supports Link zones. {DataSources::ZoneinfoDataSource} returns Link zones as if they were full Zones. If the {canonical_zone} or {canonical_identifier} methods are needed, the tzinfo-data gem should be installed.</p>

<p>The {TZInfo::DataSource.get} method can be used to check which <a href="DataSource.html"><code>DataSource</code></a> implementation is being used.</p>

<p>@return [Timezone] the canonical {Timezone} instance for this {Timezone}.</p>
          
          

          
          <div class="method-source-code" id="canonical_zone-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">canonical_zone</span>
  <span class="ruby-identifier">raise_unknown_timezone</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-current_period" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current_period</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [TimezonePeriod] the current {TimezonePeriod} for the time zone.</p>
          
          

          
          <div class="method-source-code" id="current_period-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 997</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">current_period</span>
  <span class="ruby-identifier">period_for</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-current_period_and_time" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">current_period_and_time</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Timezone.html#method-i-current_time_and_period">current_time_and_period</a>
        </div>
        
      </div>

    
      <div id="method-i-current_time_and_period" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">current_time_and_period</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the current local time and {TimezonePeriod} for the time zone as an `Array`. The first element is the time as a {TimeWithOffset}. The second element is the period.</p>

<p>@return [Array] an `Array` containing the current {TimeWithOffset} for the</p>

<pre>time zone as the first element and the current {TimezonePeriod} for the
time zone as the second element.</pre>
          
          

          
          <div class="method-source-code" id="current_time_and_period-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1008</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">current_time_and_period</span>
  <span class="ruby-identifier">period</span> = <span class="ruby-keyword">nil</span>

  <span class="ruby-identifier">local_time</span> = <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ts</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">period</span> = <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">ts</span>)
    <span class="ruby-constant">TimestampWithOffset</span>.<span class="ruby-identifier">set_timezone_offset</span>(<span class="ruby-identifier">ts</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">offset</span>)
  <span class="ruby-keyword">end</span>

  [<span class="ruby-identifier">local_time</span>, <span class="ruby-identifier">period</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Timezone.html#method-i-current_period_and_time">current_period_and_time</a>
        </div>
        

        
      </div>

    
      <div id="method-i-dst-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">dst?</span><span
            class="method-args">(time = Time.now)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param time [Object] a `Time`, `DateTime` or `Timestamp`. @return [Boolean] whether daylight savings time is in effect at the given</p>

<pre>time.</pre>

<p>@raise [ArgumentError] if `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} with an unspecified UTC</p>

<pre>offset.</pre>
          
          

          
          <div class="method-source-code" id="dst-3F-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1059</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dst?</span>(<span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
  <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">time</span>).<span class="ruby-identifier">dst?</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-eql-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">eql?</span><span
            class="method-args">(tz)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@param tz [Object] an `Object` to compare this {Timezone} with. @return [Boolean] `true` if `tz` is an instance of {Timezone} and has the</p>

<pre>same {identifier} as `self`, otherwise `false`.</pre>
          
          

          
          <div class="method-source-code" id="eql-3F-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">eql?</span>(<span class="ruby-identifier">tz</span>)
  <span class="ruby-keyword">self</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">tz</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-friendly_identifier" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">friendly_identifier</span><span
            class="method-args">(skip_first_part = false)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns {identifier}, modified to make it more readable. Set `skip_first_part` to omit the first part of the identifier (typically a region name) where there is more than one part.</p>

<p>For example:</p>

<pre class="ruby"><span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;Europe/Paris&#39;</span>).<span class="ruby-identifier">friendly_identifier</span>(<span class="ruby-keyword">false</span>)         <span class="ruby-comment">#=&gt; &quot;Europe - Paris&quot;</span>
<span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;Europe/Paris&#39;</span>).<span class="ruby-identifier">friendly_identifier</span>(<span class="ruby-keyword">true</span>)          <span class="ruby-comment">#=&gt; &quot;Paris&quot;</span>
<span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/Indiana/Knox&#39;</span>).<span class="ruby-identifier">friendly_identifier</span>(<span class="ruby-keyword">false</span>) <span class="ruby-comment">#=&gt; &quot;America - Knox, Indiana&quot;</span>
<span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/Indiana/Knox&#39;</span>).<span class="ruby-identifier">friendly_identifier</span>(<span class="ruby-keyword">true</span>)  <span class="ruby-comment">#=&gt; &quot;Knox, Indiana&quot;</span>
</pre>

<p>@param skip_first_part [Boolean] whether the first part of the identifier</p>

<pre>(typically a region name) should be omitted.</pre>

<p>@return [String] the modified identifier.</p>
          
          

          
          <div class="method-source-code" id="friendly_identifier-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 277</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">friendly_identifier</span>(<span class="ruby-identifier">skip_first_part</span> = <span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">id</span> = <span class="ruby-identifier">identifier</span>
  <span class="ruby-identifier">id</span> = <span class="ruby-identifier">id</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-constant">Encoding</span><span class="ruby-operator">::</span><span class="ruby-constant">UTF_8</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">id</span>.<span class="ruby-identifier">encoding</span>.<span class="ruby-identifier">ascii_compatible?</span>
  <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">id</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;/&#39;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-comment"># shouldn&#39;t happen</span>
    <span class="ruby-identifier">identifier</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">parts</span>[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">prefix</span> = <span class="ruby-identifier">skip_first_part</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{parts[0]} - &quot;</span>

    <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">parts</span>.<span class="ruby-identifier">drop</span>(<span class="ruby-value">1</span>).<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">part</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/_/</span>, <span class="ruby-string">&#39; &#39;</span>)

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">part</span>.<span class="ruby-identifier">index</span>(<span class="ruby-regexp">/[a-z]/</span>)
        <span class="ruby-comment"># Missing a space if a lower case followed by an upper case and the</span>
        <span class="ruby-comment"># name isn&#39;t McXxxx.</span>
        <span class="ruby-identifier">part</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/([^M][a-z])([A-Z])/</span>, <span class="ruby-string">&#39;\1 \2&#39;</span>)
        <span class="ruby-identifier">part</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/([M][a-bd-z])([A-Z])/</span>, <span class="ruby-string">&#39;\1 \2&#39;</span>)

        <span class="ruby-comment"># Missing an apostrophe if two consecutive upper case characters.</span>
        <span class="ruby-identifier">part</span>.<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/([A-Z])([A-Z])/</span>, <span class="ruby-string">&#39;\1\&#39;\2&#39;</span>)
      <span class="ruby-keyword">end</span>

      <span class="ruby-identifier">part</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-node">&quot;#{prefix}#{parts.reverse.join(&#39;, &#39;)}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-hash" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">hash</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [Integer] a hash based on the {identifier}.</p>
          
          

          
          <div class="method-source-code" id="hash-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1118</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hash</span>
  <span class="ruby-identifier">identifier</span>.<span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-identifier" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">identifier</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] the identifier of the time zone, for example,</p>

<pre>`&quot;Europe/Paris&quot;`.</pre>
          
          

          
          <div class="method-source-code" id="identifier-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">identifier</span>
  <span class="ruby-identifier">raise_unknown_timezone</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-inspect" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">inspect</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] the internal object state as a programmer-readable</p>

<pre>`String`.</pre>
          
          

          
          <div class="method-source-code" id="inspect-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">inspect</span>
  <span class="ruby-node">&quot;#&lt;#{self.class}: #{identifier}&gt;&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-local_datetime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local_datetime</span><span
            class="method-args">(year, month = 1, day = 1, hour = 0, minute = 0, second = 0, sub_second = 0, dst = Timezone.default_dst, &amp;block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a `DateTime` object based on the given (Gregorian calendar) date and time parameters. The parameters are interpreted as a local time in the time zone. The result has the appropriate `offset` and {DateTimeWithOffset#timezone_offset timezone_offset}.</p>

<p><em>Warning:</em> There are time values that are not valid as local times in a time zone (for example, during the transition from standard time to daylight savings time). There are also time values that are ambiguous, occurring more than once with different offsets to UTC (for example, during the transition from daylight savings time to standard time).</p>

<p>In the first case (an invalid local time), a {PeriodNotFound} exception will be raised.</p>

<p>In the second case (more than one occurrence), an {AmbiguousTime} exception will be raised unless the optional `dst` parameter or block handles the ambiguity.</p>

<p>If the ambiguity is due to a transition from daylight savings time to standard time, the `dst` parameter can be used to select whether the daylight savings time or local time is used. For example, the following code would raise an {AmbiguousTime} exception:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_datetime</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>)
</pre>

<p>Specifying `dst = true` would return a `Time` with a UTC offset of -4 hours and abbreviation EDT (Eastern Daylight Time). Specifying `dst = false` would return a `Time` with a UTC offset of -5 hours and abbreviation EST (Eastern Standard Time).</p>

<p>The `dst` parameter will not be able to resolve an ambiguity resulting from the clocks being set back without changing from daylight savings time to standard time. In this case, if a block is specified, it will be called to resolve the ambiguity. The block must take a single parameter - an `Array` of {TimezonePeriod}s that need to be resolved. The block can select and return a single {TimezonePeriod} or return `nil` or an empty `Array` to cause an {AmbiguousTime} exception to be raised.</p>

<p>The default value of the `dst` parameter can be specified using {Timezone.default_dst=}.</p>

<p>@param year [Integer] the year. @param month [Integer] the month (1-12). @param day [Integer] the day of the month (1-31). @param hour [Integer] the hour (0-23). @param minute [Integer] the minute (0-59). @param second [Integer] the second (0-59). @param sub_second [Numeric] the fractional part of the second as either</p>

<pre>a `Rational` that is greater than or equal to 0 and less than 1, or
the `Integer` 0.</pre>

<p>@param dst [Boolean] whether to resolve ambiguous local times by always</p>

<pre>selecting the period observing daylight savings time (`true`), always
selecting the period observing standard time (`false`), or leaving the
ambiguity unresolved (`nil`).</pre>

<p>@yield [periods] if the `dst` parameter did not resolve an ambiguity, an</p>

<pre>optional block is yielded to.</pre>

<p>@yieldparam periods [Array&lt;TimezonePeriod&gt;] an `Array` containing all</p>

<pre>the {TimezonePeriod}s that still match `local_time` after applying the
`dst` parameter.</pre>

<p>@yieldreturn [Object] to resolve the ambiguity: a chosen {TimezonePeriod}</p>

<pre>or an `Array` containing a chosen {TimezonePeriod}; to leave the
ambiguity unresolved: an empty `Array`, an `Array` containing more than
one {TimezonePeriod}, or `nil`.</pre>

<p>@return [DateTimeWithOffset] a new `DateTime` object based on the given values, interpreted as a local time in the time zone. @raise [ArgumentError] if either of `year`, `month`, `day`, `hour`,</p>

<pre>`minute`, or `second` is not an `Integer`.</pre>

<p>@raise [ArgumentError] if `sub_second` is not a `Rational`, or the</p>

<pre>`Integer` 0.</pre>

<p>@raise [ArgumentError] if `utc_offset` is not `nil`, not an `Integer`</p>

<pre>and not the `Symbol` `:utc`.</pre>

<p>@raise [RangeError] if `month` is not between 1 and 12. @raise [RangeError] if `day` is not between 1 and 31. @raise [RangeError] if `hour` is not between 0 and 23. @raise [RangeError] if `minute` is not between 0 and 59. @raise [RangeError] if `second` is not between 0 and 59. @raise [RangeError] if `sub_second` is a `Rational` but that is less</p>

<pre class="ruby"><span class="ruby-identifier">than</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">greater</span> <span class="ruby-identifier">than</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">equal</span> <span class="ruby-identifier">to</span> <span class="ruby-value">1</span>
</pre>

<p>@raise [PeriodNotFound] if the date and time parameters do not specify a</p>

<pre>valid local time in the time zone.</pre>

<p>@raise [AmbiguousTime] if the date and time parameters are ambiguous for</p>

<pre>the time zone and the `dst` parameter or block did not resolve the
ambiguity.</pre>
          
          

          
          <div class="method-source-code" id="local_datetime-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 831</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">local_datetime</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">day</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">minute</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">second</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">sub_second</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">dst</span> = <span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">local_timestamp</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">minute</span>, <span class="ruby-identifier">second</span>, <span class="ruby-identifier">sub_second</span>, <span class="ruby-identifier">dst</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">to_datetime</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-local_time" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local_time</span><span
            class="method-args">(year, month = 1, day = 1, hour = 0, minute = 0, second = 0, sub_second = 0, dst = Timezone.default_dst, &amp;block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a `Time` object based on the given (Gregorian calendar) date and time parameters. The parameters are interpreted as a local time in the time zone. The result has the appropriate `utc_offset`, `zone` and {TimeWithOffset#timezone_offset timezone_offset}.</p>

<p><em>Warning:</em> There are time values that are not valid as local times in a time zone (for example, during the transition from standard time to daylight savings time). There are also time values that are ambiguous, occurring more than once with different offsets to UTC (for example, during the transition from daylight savings time to standard time).</p>

<p>In the first case (an invalid local time), a {PeriodNotFound} exception will be raised.</p>

<p>In the second case (more than one occurrence), an {AmbiguousTime} exception will be raised unless the optional `dst` parameter or block handles the ambiguity.</p>

<p>If the ambiguity is due to a transition from daylight savings time to standard time, the `dst` parameter can be used to select whether the daylight savings time or local time is used. For example, the following code would raise an {AmbiguousTime} exception:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>)
</pre>

<p>Specifying `dst = true` would return a `Time` with a UTC offset of -4 hours and abbreviation EDT (Eastern Daylight Time). Specifying `dst = false` would return a `Time` with a UTC offset of -5 hours and abbreviation EST (Eastern Standard Time).</p>

<p>The `dst` parameter will not be able to resolve an ambiguity resulting from the clocks being set back without changing from daylight savings time to standard time. In this case, if a block is specified, it will be called to resolve the ambiguity. The block must take a single parameter - an `Array` of {TimezonePeriod}s that need to be resolved. The block can select and return a single {TimezonePeriod} or return `nil` or an empty `Array` to cause an {AmbiguousTime} exception to be raised.</p>

<p>The default value of the `dst` parameter can be specified using {Timezone.default_dst=}.</p>

<p>@param year [Integer] the year. @param month [Integer] the month (1-12). @param day [Integer] the day of the month (1-31). @param hour [Integer] the hour (0-23). @param minute [Integer] the minute (0-59). @param second [Integer] the second (0-59). @param sub_second [Numeric] the fractional part of the second as either</p>

<pre>a `Rational` that is greater than or equal to 0 and less than 1, or
the `Integer` 0.</pre>

<p>@param dst [Boolean] whether to resolve ambiguous local times by always</p>

<pre>selecting the period observing daylight savings time (`true`), always
selecting the period observing standard time (`false`), or leaving the
ambiguity unresolved (`nil`).</pre>

<p>@yield [periods] if the `dst` parameter did not resolve an ambiguity, an</p>

<pre>optional block is yielded to.</pre>

<p>@yieldparam periods [Array&lt;TimezonePeriod&gt;] an `Array` containing all</p>

<pre>the {TimezonePeriod}s that still match `local_time` after applying the
`dst` parameter.</pre>

<p>@yieldreturn [Object] to resolve the ambiguity: a chosen {TimezonePeriod}</p>

<pre>or an `Array` containing a chosen {TimezonePeriod}; to leave the
ambiguity unresolved: an empty `Array`, an `Array` containing more than
one {TimezonePeriod}, or `nil`.</pre>

<p>@return [TimeWithOffset] a new `Time` object based on the given values,</p>

<pre>interpreted as a local time in the time zone.</pre>

<p>@raise [ArgumentError] if either of `year`, `month`, `day`, `hour`,</p>

<pre>`minute`, or `second` is not an `Integer`.</pre>

<p>@raise [ArgumentError] if `sub_second` is not a `Rational`, or the</p>

<pre>`Integer` 0.</pre>

<p>@raise [ArgumentError] if `utc_offset` is not `nil`, not an `Integer`</p>

<pre>and not the `Symbol` `:utc`.</pre>

<p>@raise [RangeError] if `month` is not between 1 and 12. @raise [RangeError] if `day` is not between 1 and 31. @raise [RangeError] if `hour` is not between 0 and 23. @raise [RangeError] if `minute` is not between 0 and 59. @raise [RangeError] if `second` is not between 0 and 59. @raise [RangeError] if `sub_second` is a `Rational` but that is less</p>

<pre class="ruby"><span class="ruby-identifier">than</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">greater</span> <span class="ruby-identifier">than</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">equal</span> <span class="ruby-identifier">to</span> <span class="ruby-value">1</span>
</pre>

<p>@raise [PeriodNotFound] if the date and time parameters do not specify a</p>

<pre>valid local time in the time zone.</pre>

<p>@raise [AmbiguousTime] if the date and time parameters are ambiguous for</p>

<pre>the time zone and the `dst` parameter or block did not resolve the
ambiguity.</pre>
          
          

          
          <div class="method-source-code" id="local_time-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 743</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">local_time</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">day</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">minute</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">second</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">sub_second</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">dst</span> = <span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">local_timestamp</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">minute</span>, <span class="ruby-identifier">second</span>, <span class="ruby-identifier">sub_second</span>, <span class="ruby-identifier">dst</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">to_time</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-local_timestamp" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local_timestamp</span><span
            class="method-args">(year, month = 1, day = 1, hour = 0, minute = 0, second = 0, sub_second = 0, dst = Timezone.default_dst, &amp;block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a {Timestamp} object based on the given (Gregorian calendar) date and time parameters. The parameters are interpreted as a local time in the time zone. The result has the appropriate {Timestamp#utc_offset <a href="Timezone.html#method-i-utc_offset"><code>utc_offset</code></a>} and {TimestampWithOffset#timezone_offset timezone_offset}.</p>

<p><em>Warning:</em> There are time values that are not valid as local times in a time zone (for example, during the transition from standard time to daylight savings time). There are also time values that are ambiguous, occurring more than once with different offsets to UTC (for example, during the transition from daylight savings time to standard time).</p>

<p>In the first case (an invalid local time), a {PeriodNotFound} exception will be raised.</p>

<p>In the second case (more than one occurrence), an {AmbiguousTime} exception will be raised unless the optional `dst` parameter or block handles the ambiguity.</p>

<p>If the ambiguity is due to a transition from daylight savings time to standard time, the `dst` parameter can be used to select whether the daylight savings time or local time is used. For example, the following code would raise an {AmbiguousTime} exception:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_timestamp</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>,<span class="ruby-value">0</span>)
</pre>

<p>Specifying `dst = true` would return a `Time` with a UTC offset of -4 hours and abbreviation EDT (Eastern Daylight Time). Specifying `dst = false` would return a `Time` with a UTC offset of -5 hours and abbreviation EST (Eastern Standard Time).</p>

<p>The `dst` parameter will not be able to resolve an ambiguity resulting from the clocks being set back without changing from daylight savings time to standard time. In this case, if a block is specified, it will be called to resolve the ambiguity. The block must take a single parameter - an `Array` of {TimezonePeriod}s that need to be resolved. The block can select and return a single {TimezonePeriod} or return `nil` or an empty `Array` to cause an {AmbiguousTime} exception to be raised.</p>

<p>The default value of the `dst` parameter can be specified using {Timezone.default_dst=}.</p>

<p>@param year [Integer] the year. @param month [Integer] the month (1-12). @param day [Integer] the day of the month (1-31). @param hour [Integer] the hour (0-23). @param minute [Integer] the minute (0-59). @param second [Integer] the second (0-59). @param sub_second [Numeric] the fractional part of the second as either</p>

<pre>a `Rational` that is greater than or equal to 0 and less than 1, or
the `Integer` 0.</pre>

<p>@param dst [Boolean] whether to resolve ambiguous local times by always</p>

<pre>selecting the period observing daylight savings time (`true`), always
selecting the period observing standard time (`false`), or leaving the
ambiguity unresolved (`nil`).</pre>

<p>@yield [periods] if the `dst` parameter did not resolve an ambiguity, an</p>

<pre>optional block is yielded to.</pre>

<p>@yieldparam periods [Array&lt;TimezonePeriod&gt;] an `Array` containing all</p>

<pre>the {TimezonePeriod}s that still match `local_time` after applying the
`dst` parameter.</pre>

<p>@yieldreturn [Object] to resolve the ambiguity: a chosen {TimezonePeriod}</p>

<pre>or an `Array` containing a chosen {TimezonePeriod}; to leave the
ambiguity unresolved: an empty `Array`, an `Array` containing more than
one {TimezonePeriod}, or `nil`.</pre>

<p>@return [TimestampWithOffset] a new {Timestamp} object based on the given</p>

<pre>values, interpreted as a local time in the time zone.</pre>

<p>@raise [ArgumentError] if either of `year`, `month`, `day`, `hour`,</p>

<pre>`minute`, or `second` is not an `Integer`.</pre>

<p>@raise [ArgumentError] if `sub_second` is not a `Rational`, or the</p>

<pre>`Integer` 0.</pre>

<p>@raise [ArgumentError] if `utc_offset` is not `nil`, not an `Integer`</p>

<pre>and not the `Symbol` `:utc`.</pre>

<p>@raise [RangeError] if `month` is not between 1 and 12. @raise [RangeError] if `day` is not between 1 and 31. @raise [RangeError] if `hour` is not between 0 and 23. @raise [RangeError] if `minute` is not between 0 and 59. @raise [RangeError] if `second` is not between 0 and 59. @raise [RangeError] if `sub_second` is a `Rational` but that is less</p>

<pre class="ruby"><span class="ruby-identifier">than</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">greater</span> <span class="ruby-identifier">than</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">equal</span> <span class="ruby-identifier">to</span> <span class="ruby-value">1</span>
</pre>

<p>@raise [PeriodNotFound] if the date and time parameters do not specify a</p>

<pre>valid local time in the time zone.</pre>

<p>@raise [AmbiguousTime] if the date and time parameters are ambiguous for</p>

<pre>the time zone and the `dst` parameter or block did not resolve the
ambiguity.</pre>
          
          

          
          <div class="method-source-code" id="local_timestamp-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 919</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">local_timestamp</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">day</span> = <span class="ruby-value">1</span>, <span class="ruby-identifier">hour</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">minute</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">second</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">sub_second</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">dst</span> = <span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">ts</span> = <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">year</span>, <span class="ruby-identifier">month</span>, <span class="ruby-identifier">day</span>, <span class="ruby-identifier">hour</span>, <span class="ruby-identifier">minute</span>, <span class="ruby-identifier">second</span>, <span class="ruby-identifier">sub_second</span>)
  <span class="ruby-identifier">timezone_offset</span> = <span class="ruby-identifier">period_for_local</span>(<span class="ruby-identifier">ts</span>, <span class="ruby-identifier">dst</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>).<span class="ruby-identifier">offset</span>
  <span class="ruby-identifier">utc_offset</span> = <span class="ruby-identifier">timezone_offset</span>.<span class="ruby-identifier">observed_utc_offset</span>
  <span class="ruby-constant">TimestampWithOffset</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">ts</span>.<span class="ruby-identifier">value</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">utc_offset</span>, <span class="ruby-identifier">sub_second</span>, <span class="ruby-identifier">utc_offset</span>).<span class="ruby-identifier">set_timezone_offset</span>(<span class="ruby-identifier">timezone_offset</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-local_to_utc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">local_to_utc</span><span
            class="method-args">(local_time, dst = Timezone.default_dst) { |periods| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a local time for the time zone to UTC.</p>

<p>The result will either be a `Time`, `DateTime` or {Timestamp} according to the type of the `local_time` parameter.</p>

<p>The UTC offset of the `local_time` parameter is ignored (it is treated as a time in the time zone represented by `self`).</p>

<p><em>Warning:</em> There are local times that have no equivalent UTC times (for example, during the transition from standard time to daylight savings time). There are also local times that have more than one UTC equivalent (for example, during the transition from daylight savings time to standard time).</p>

<p>In the first case (no equivalent UTC time), a {PeriodNotFound} exception will be raised.</p>

<p>In the second case (more than one equivalent UTC time), an {AmbiguousTime} exception will be raised unless the optional `dst` parameter or block handles the ambiguity.</p>

<p>If the ambiguity is due to a transition from daylight savings time to standard time, the `dst` parameter can be used to select whether the daylight savings time or local time is used. For example, the following code would raise an {AmbiguousTime} exception:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">period_for_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>))
</pre>

<p>Specifying `dst = true` would select the daylight savings period from April to October 2004. Specifying `dst = false` would return the standard time period from October 2004 to April 2005.</p>

<p>The `dst` parameter will not be able to resolve an ambiguity resulting from the clocks being set back without changing from daylight savings time to standard time. In this case, if a block is specified, it will be called to resolve the ambiguity. The block must take a single parameter - an `Array` of {TimezonePeriod}s that need to be resolved. The block can select and return a single {TimezonePeriod} or return `nil` or an empty `Array` to cause an {AmbiguousTime} exception to be raised.</p>

<p>The default value of the `dst` parameter can be specified using {Timezone.default_dst=}.</p>

<p>@param <a href="Timezone.html#method-i-local_time"><code>local_time</code></a> [Object] a `Time`, `DateTime` or {Timestamp}. @param dst [Boolean] whether to resolve ambiguous local times by always</p>

<pre>selecting the period observing daylight savings time (`true`), always
selecting the period observing standard time (`false`), or leaving the
ambiguity unresolved (`nil`).</pre>

<p>@yield [periods] if the `dst` parameter did not resolve an ambiguity, an</p>

<pre>optional block is yielded to.</pre>

<p>@yieldparam periods [Array&lt;TimezonePeriod&gt;] an `Array` containing all</p>

<pre>the {TimezonePeriod}s that still match `local_time` after applying the
`dst` parameter.</pre>

<p>@yieldreturn [Object] to resolve the ambiguity: a chosen {TimezonePeriod}</p>

<pre>or an `Array` containing a chosen {TimezonePeriod}; to leave the
ambiguity unresolved: an empty `Array`, an `Array` containing more than
one {TimezonePeriod}, or `nil`.</pre>

<p>@return [Object] the UTC equivalent of `local_time` as a `Time`,</p>

<pre>`DateTime` or {Timestamp}.</pre>

<p>@raise [ArgumentError] if `local_time` is `nil`. @raise [PeriodNotFound] if `local_time` is not valid for the time zone</p>

<pre>(there is no equivalent UTC time).</pre>

<p>@raise [AmbiguousTime] if `local_time` was ambiguous for the time zone and</p>

<pre>the `dst` parameter or block did not resolve the ambiguity.</pre>
          
          

          
          <div class="method-source-code" id="local_to_utc-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 645</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">local_to_utc</span>(<span class="ruby-identifier">local_time</span>, <span class="ruby-identifier">dst</span> = <span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;local_time must be specified&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">local_time</span>

  <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">local_time</span>, <span class="ruby-value">:ignore</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ts</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">period</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">period_for_local</span>(<span class="ruby-identifier">ts</span>, <span class="ruby-identifier">dst</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">periods</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-identifier">periods</span> }
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">period_for_local</span>(<span class="ruby-identifier">ts</span>, <span class="ruby-identifier">dst</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">ts</span>.<span class="ruby-identifier">add_and_set_utc_offset</span>(<span class="ruby-operator">-</span><span class="ruby-identifier">period</span>.<span class="ruby-identifier">observed_utc_offset</span>, <span class="ruby-value">:utc</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] the identifier of the time zone, for example,</p>

<pre>`&quot;Europe/Paris&quot;`.</pre>
          
          

          
          <div class="method-source-code" id="name-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 247</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">name</span>
  <span class="ruby-comment"># Don&#39;t use alias, as identifier gets overridden.</span>
  <span class="ruby-identifier">identifier</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-now" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">now</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [TimeWithOffset] the current local time in the time zone.</p>
          
          

          
          <div class="method-source-code" id="now-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 992</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">now</span>
  <span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-observed_utc_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">observed_utc_offset</span><span
            class="method-args">(time = Time.now)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the observed offset from UTC in seconds at the given time. This includes adjustments made for daylight savings time.</p>

<p>@param time [Object] a `Time`, `DateTime` or `Timestamp`. @return [Integer] the observed offset from UTC in seconds at the given</p>

<pre>time.</pre>

<p>@raise [ArgumentError] if `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} with an unspecified UTC</p>

<pre>offset.</pre>
          
          

          
          <div class="method-source-code" id="observed_utc_offset-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1094</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">observed_utc_offset</span>(<span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
  <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">time</span>).<span class="ruby-identifier">observed_utc_offset</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Timezone.html#method-i-utc_offset">utc_offset</a>
        </div>
        

        
      </div>

    
      <div id="method-i-offsets_up_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">offsets_up_to</span><span
            class="method-args">(to, from = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the unique offsets used by the time zone up to a given time (`to`) as an `Array` of {TimezoneOffset} instances.</p>

<p>A from time may also be supplied using the `from` parameter. If from is not `nil`, only offsets used from that time onwards will be returned.</p>

<p>Comparisons with `to` are exclusive. Comparisons with `from` are inclusive.</p>

<p>@param to [Object] a `Time`, `DateTime` or {Timestamp} specifying the</p>

<pre>latest (exclusive) offset to return.</pre>

<p>@param from [Object] an optional `Time`, `DateTime` or {Timestamp}</p>

<pre>specifying the earliest (inclusive) offset to return.</pre>

<p>@return [Array&lt;TimezoneOffsets&gt;] the offsets that are used earlier than</p>

<pre>`to` and, if specified, at or later than `from`. Offsets may be returned
in any order.</pre>

<p>@raise [ArgumentError] if `from` is specified and `to` is not greater than</p>

<pre>`from`.</pre>

<p>@raise [ArgumentError] is raised if `to` is `nil`. @raise [ArgumentError] if either `to` or `from` is a {Timestamp} with an</p>

<pre>unspecified offset.</pre>
          
          

          
          <div class="method-source-code" id="offsets_up_to-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 947</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">offsets_up_to</span>(<span class="ruby-identifier">to</span>, <span class="ruby-identifier">from</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;to must be specified&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">to</span>

  <span class="ruby-identifier">to_timestamp</span> = <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">to</span>)
  <span class="ruby-identifier">from_timestamp</span> = <span class="ruby-identifier">from</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">from</span>)
  <span class="ruby-identifier">transitions</span> = <span class="ruby-identifier">transitions_up_to</span>(<span class="ruby-identifier">to_timestamp</span>, <span class="ruby-identifier">from_timestamp</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-comment"># No transitions in the range, find the period that covers it.</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">from_timestamp</span>
      <span class="ruby-comment"># Use the from date as it is inclusive.</span>
      <span class="ruby-identifier">period</span> = <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">from_timestamp</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># to is exclusive, so this can&#39;t be used with period_for. However, any</span>
      <span class="ruby-comment"># time earlier than to can be used. Subtract 1 hour.</span>
      <span class="ruby-identifier">period</span> = <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">to_timestamp</span>.<span class="ruby-identifier">add_and_set_utc_offset</span>(<span class="ruby-value">-3600</span>, <span class="ruby-value">:utc</span>))
    <span class="ruby-keyword">end</span>

    [<span class="ruby-identifier">period</span>.<span class="ruby-identifier">offset</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">result</span> = <span class="ruby-constant">Set</span>.<span class="ruby-identifier">new</span>

    <span class="ruby-identifier">first</span> = <span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">first</span>.<span class="ruby-identifier">previous_offset</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">from_timestamp</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">first</span>.<span class="ruby-identifier">at</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">from_timestamp</span>

    <span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">offset</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">to_a</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-period_for" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">period_for</span><span
            class="method-args">(time)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the {TimezonePeriod} that is valid at a given time.</p>

<p>Unlike {period_for_local} and {period_for_utc}, the UTC offset of the `time` parameter is taken into consideration.</p>

<p>@param time [Object] a `Time`, `DateTime` or {Timestamp}. @return [TimezonePeriod] the {TimezonePeriod} that is valid at `time`. @raise [ArgumentError] if `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} with an unspecified</p>

<pre>offset.</pre>
          
          

          
          <div class="method-source-code" id="period_for-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 319</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">period_for</span>(<span class="ruby-identifier">time</span>)
  <span class="ruby-identifier">raise_unknown_timezone</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-period_for_local" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">period_for_local</span><span
            class="method-args">(local_time, dst = Timezone.default_dst) { |results| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the {TimezonePeriod} that is valid at the given local time.</p>

<p>The UTC offset of the `local_time` parameter is ignored (it is treated as a time in the time zone represented by `self`). Use the {period_for} method instead if the the UTC offset of the time needs to be taken into consideration.</p>

<p><em>Warning:</em> There are local times that have no equivalent UTC times (for example, during the transition from standard time to daylight savings time). There are also local times that have more than one UTC equivalent (for example, during the transition from daylight savings time to standard time).</p>

<p>In the first case (no equivalent UTC time), a {PeriodNotFound} exception will be raised.</p>

<p>In the second case (more than one equivalent UTC time), an {AmbiguousTime} exception will be raised unless the optional `dst` parameter or block handles the ambiguity.</p>

<p>If the ambiguity is due to a transition from daylight savings time to standard time, the `dst` parameter can be used to select whether the daylight savings time or local time is used. For example, the following code would raise an {AmbiguousTime} exception:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">period_for_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2004</span>,<span class="ruby-value">10</span>,<span class="ruby-value">31</span>,<span class="ruby-value">1</span>,<span class="ruby-value">30</span>,<span class="ruby-value">0</span>))
</pre>

<p>Specifying `dst = true` would select the daylight savings period from April to October 2004. Specifying `dst = false` would return the standard time period from October 2004 to April 2005.</p>

<p>The `dst` parameter will not be able to resolve an ambiguity resulting from the clocks being set back without changing from daylight savings time to standard time. In this case, if a block is specified, it will be called to resolve the ambiguity. The block must take a single parameter - an `Array` of {TimezonePeriod}s that need to be resolved. The block can select and return a single {TimezonePeriod} or return `nil` or an empty `Array` to cause an {AmbiguousTime} exception to be raised.</p>

<p>The default value of the `dst` parameter can be specified using {Timezone.default_dst=}.</p>

<p>@param <a href="Timezone.html#method-i-local_time"><code>local_time</code></a> [Object] a `Time`, `DateTime` or {Timestamp}. @param dst [Boolean] whether to resolve ambiguous local times by always</p>

<pre>selecting the period observing daylight savings time (`true`), always
selecting the period observing standard time (`false`), or leaving the
ambiguity unresolved (`nil`).</pre>

<p>@yield [periods] if the `dst` parameter did not resolve an ambiguity, an</p>

<pre>optional block is yielded to.</pre>

<p>@yieldparam periods [Array&lt;TimezonePeriod&gt;] an `Array` containing all</p>

<pre>the {TimezonePeriod}s that still match `local_time` after applying the
`dst` parameter.</pre>

<p>@yieldreturn [Object] to resolve the ambiguity: a chosen {TimezonePeriod}</p>

<pre>or an `Array` containing a chosen {TimezonePeriod}; to leave the
ambiguity unresolved: an empty `Array`, an `Array` containing more than
one {TimezonePeriod}, or `nil`.</pre>

<p>@return [TimezonePeriod] the {TimezonePeriod} that is valid at</p>

<pre>`local_time`.</pre>

<p>@raise [ArgumentError] if `local_time` is `nil`. @raise [PeriodNotFound] if `local_time` is not valid for the time zone</p>

<pre>(there is no equivalent UTC time).</pre>

<p>@raise [AmbiguousTime] if `local_time` was ambiguous for the time zone and</p>

<pre>the `dst` parameter or block did not resolve the ambiguity.</pre>
          
          

          
          <div class="method-source-code" id="period_for_local-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 494</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">period_for_local</span>(<span class="ruby-identifier">local_time</span>, <span class="ruby-identifier">dst</span> = <span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;local_time must be specified&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">local_time</span>
  <span class="ruby-identifier">local_time</span> = <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">local_time</span>, <span class="ruby-value">:ignore</span>)
  <span class="ruby-identifier">results</span> = <span class="ruby-identifier">periods_for_local</span>(<span class="ruby-identifier">local_time</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">PeriodNotFound</span>, <span class="ruby-node">&quot;#{local_time.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)} is an invalid local time.&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>
    <span class="ruby-identifier">results</span>.<span class="ruby-identifier">first</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># ambiguous result try to resolve</span>

    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">dst</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">matches</span> = <span class="ruby-identifier">results</span>.<span class="ruby-identifier">find_all</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">period</span><span class="ruby-operator">|</span> <span class="ruby-identifier">period</span>.<span class="ruby-identifier">dst?</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">dst</span>}
      <span class="ruby-identifier">results</span> = <span class="ruby-identifier">matches</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">matches</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">results</span>.<span class="ruby-identifier">first</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># still ambiguous, try the block</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-identifier">results</span> = <span class="ruby-keyword">yield</span> <span class="ruby-identifier">results</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">TimezonePeriod</span>)
        <span class="ruby-identifier">results</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">results</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">results</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
        <span class="ruby-identifier">results</span>.<span class="ruby-identifier">first</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">AmbiguousTime</span>, <span class="ruby-node">&quot;#{local_time.strftime(&#39;%Y-%m-%d %H:%M:%S&#39;)} is an ambiguous local time.&quot;</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-period_for_utc" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">period_for_utc</span><span
            class="method-args">(utc_time)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the {TimezonePeriod} that is valid at a given time.</p>

<p>The UTC offset of the `utc_time` parameter is ignored (it is treated as a UTC time). Use the {period_for} method instead if the UTC offset of the time needs to be taken into consideration.</p>

<p>@param utc_time [Object] a `Time`, `DateTime` or {Timestamp}. @return [TimezonePeriod] the {TimezonePeriod} that is valid at `utc_time`. @raise [ArgumentError] if `utc_time` is `nil`.</p>
          
          

          
          <div class="method-source-code" id="period_for_utc-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 425</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">period_for_utc</span>(<span class="ruby-identifier">utc_time</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;utc_time must be specified&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">utc_time</span>
  <span class="ruby-identifier">period_for</span>(<span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">utc_time</span>, <span class="ruby-value">:treat_as_utc</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-periods_for_local" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">periods_for_local</span><span
            class="method-args">(local_time)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the set of {TimezonePeriod}s that are valid for the given local time as an `Array`.</p>

<p>The UTC offset of the `local_time` parameter is ignored (it is treated as a time in the time zone represented by `self`).</p>

<p>This will typically return an `Array` containing a single {TimezonePeriod}. More than one {TimezonePeriod} will be returned when the local time is ambiguous (for example, when daylight savings time ends). An empty `Array` will be returned when the local time is not valid (for example, when daylight savings time begins).</p>

<p>To obtain just a single {TimezonePeriod} in all cases, use {period_for_local} instead and specify how ambiguities should be resolved.</p>

<p>@param <a href="Timezone.html#method-i-local_time"><code>local_time</code></a> [Object] a `Time`, `DateTime` or {Timestamp}. @return [Array&lt;TimezonePeriod&gt;] the set of {TimezonePeriod}s that are</p>

<pre>valid at `local_time`.</pre>

<p>@raise [ArgumentError] if `local_time` is `nil`.</p>
          
          

          
          <div class="method-source-code" id="periods_for_local-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 342</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">periods_for_local</span>(<span class="ruby-identifier">local_time</span>)
  <span class="ruby-identifier">raise_unknown_timezone</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-strftime" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">strftime</span><span
            class="method-args">(format, time = Time.now)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a time to local time for the time zone and returns a `String` representation of the local time according to the given format.</p>

<p>`Timezone#strftime` first expands any occurrences of `%Z` in the format string to the time zone abbreviation for the local time (for example, EST or EDT). Depending on the type of `time` parameter, the result of the expansion is then passed to either `Time#strftime`, `DateTime#strftime` or `Timestamp#strftime` to handle any other format directives.</p>

<p>This method is equivalent to the following:</p>

<pre class="ruby"><span class="ruby-identifier">time_zone</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-identifier">time</span>).<span class="ruby-identifier">strftime</span>(<span class="ruby-identifier">format</span>)
</pre>

<p>@param format [String] the format string. @param time [Object] a `Time`, `DateTime` or `Timestamp`. @return [String] the formatted local time. @raise [ArgumentError] if `format` or `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} with an unspecified UTC</p>

<pre>offset.</pre>
          
          

          
          <div class="method-source-code" id="strftime-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1039</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">strftime</span>(<span class="ruby-identifier">format</span>, <span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>)
  <span class="ruby-identifier">to_local</span>(<span class="ruby-identifier">time</span>).<span class="ruby-identifier">strftime</span>(<span class="ruby-identifier">format</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_local" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_local</span><span
            class="method-args">(time)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a time to the local time for the time zone.</p>

<p>The result will be of type {TimeWithOffset} (if passed a `Time`), {DateTimeWithOffset} (if passed a `DateTime`) or {TimestampWithOffset} (if passed a {Timestamp}). {TimeWithOffset}, {DateTimeWithOffset} and {TimestampWithOffset} are subclasses of `Time`, `DateTime` and {Timestamp} that provide additional information about the local result.</p>

<p>Unlike {utc_to_local}, {to_local} takes the UTC offset of the given time into consideration.</p>

<p>@param time [Object] a `Time`, `DateTime` or {Timestamp}. @return [Object] the local equivalent of `time` as a {TimeWithOffset},</p>

<pre>{DateTimeWithOffset} or {TimestampWithOffset}.</pre>

<p>@raise [ArgumentError] if `time` is `nil`. @raise [ArgumentError] if `time` is a {Timestamp} that does not have a</p>

<pre>specified UTC offset.</pre>
          
          

          
          <div class="method-source-code" id="to_local-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 548</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_local</span>(<span class="ruby-identifier">time</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;time must be specified&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">time</span>

  <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">time</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ts</span><span class="ruby-operator">|</span>
    <span class="ruby-constant">TimestampWithOffset</span>.<span class="ruby-identifier">set_timezone_offset</span>(<span class="ruby-identifier">ts</span>, <span class="ruby-identifier">period_for</span>(<span class="ruby-identifier">ts</span>).<span class="ruby-identifier">offset</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_s" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_s</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>@return [String] {identifier}, modified to make it more readable.</p>
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">to_s</span>
  <span class="ruby-identifier">friendly_identifier</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-transitions_up_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">transitions_up_to</span><span
            class="method-args">(to, from = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns an `Array` of {TimezoneTransition} instances representing the times where the UTC offset of the timezone changes.</p>

<p>Transitions are returned up to a given time (`to`).</p>

<p>A from time may also be supplied using the `from` parameter. If from is not `nil`, only transitions from that time onwards will be returned.</p>

<p>Comparisons with `to` are exclusive. Comparisons with `from` are inclusive. If a transition falls precisely on `to`, it will be excluded. If a transition falls on `from`, it will be included.</p>

<p>@param to [Object] a `Time`, `DateTime` or {Timestamp} specifying the</p>

<pre>latest (exclusive) transition to return.</pre>

<p>@param from [Object] an optional `Time`, `DateTime` or {Timestamp}</p>

<pre>specifying the earliest (inclusive) transition to return.</pre>

<p>@return [Array&lt;TimezoneTransition&gt;] the transitions that are earlier than</p>

<pre>`to` and, if specified, at or later than `from`. Transitions are ordered
by when they occur, from earliest to latest.</pre>

<p>@raise [ArgumentError] if `from` is specified and `to` is not greater than</p>

<pre>`from`.</pre>

<p>@raise [ArgumentError] is raised if `to` is `nil`. @raise [ArgumentError] if either `to` or `from` is a {Timestamp} with an</p>

<pre>unspecified offset.</pre>
          
          

          
          <div class="method-source-code" id="transitions_up_to-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 370</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">transitions_up_to</span>(<span class="ruby-identifier">to</span>, <span class="ruby-identifier">from</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">raise_unknown_timezone</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-utc_offset" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">utc_offset</span><span
            class="method-args">(time = Time.now)</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Timezone.html#method-i-observed_utc_offset">observed_utc_offset</a>
        </div>
        
      </div>

    
      <div id="method-i-utc_to_local" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">utc_to_local</span><span
            class="method-args">(utc_time)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Converts a time in UTC to the local time for the time zone.</p>

<p>The result will be of type {TimeWithOffset} (if passed a `Time`), {DateTimeWithOffset} (if passed a `DateTime`) or {TimestampWithOffset} (if passed a {Timestamp}). {TimeWithOffset}, {DateTimeWithOffset} and {TimestampWithOffset} are subclasses of `Time`, `DateTime` and {Timestamp} that provide additional information about the local result.</p>

<p>The UTC offset of the `utc_time` parameter is ignored (it is treated as a UTC time). Use the {to_local} method instead if the the UTC offset of the time needs to be taken into consideration.</p>

<p>@param utc_time [Object] a `Time`, `DateTime` or {Timestamp}. @return [Object] the local equivalent of `utc_time` as a {TimeWithOffset},</p>

<pre>{DateTimeWithOffset} or {TimestampWithOffset}.</pre>

<p>@raise [ArgumentError] if `utc_time` is `nil`.</p>
          
          

          
          <div class="method-source-code" id="utc_to_local-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 572</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">utc_to_local</span>(<span class="ruby-identifier">utc_time</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;utc_time must be specified&#39;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">utc_time</span>

  <span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">for</span>(<span class="ruby-identifier">utc_time</span>, <span class="ruby-value">:treat_as_utc</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ts</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">to_local</span>(<span class="ruby-identifier">ts</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="private-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Private Instance Methods</h3>
       </header>

    
      <div id="method-i-raise_unknown_timezone" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">raise_unknown_timezone</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Raises an {UnknownTimezone} exception.</p>

<p>@raise [UnknownTimezone] always.</p>
          
          

          
          <div class="method-source-code" id="raise_unknown_timezone-source">
            <pre><span class="ruby-comment"># File lib/tzinfo/timezone.rb, line 1156</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">raise_unknown_timezone</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">UnknownTimezone</span>, <span class="ruby-string">&#39;TZInfo::Timezone should not be constructed directly (use TZInfo::Timezone.get instead)&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>

</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

