<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - TZInfo</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-TZInfo+-+Ruby+Time+Zone+Library">TZInfo - Ruby Time Zone Library</a>
    <li><a href="#label-Data+Sources">Data Sources</a>
    <li><a href="#label-Installation">Installation</a>
    <li><a href="#label-IANA+Time+Zone+Database">IANA Time Zone Database</a>
    <li><a href="#label-Example+Usage">Example Usage</a>
    <li><a href="#label-Time+Zone+Selection">Time Zone Selection</a>
    <li><a href="#label-Compatibility">Compatibility</a>
    <li><a href="#label-Thread-Safety">Thread-Safety</a>
    <li><a href="#label-Documentation">Documentation</a>
    <li><a href="#label-License">License</a>
    <li><a href="#label-Source+Code">Source Code</a>
    <li><a href="#label-Issue+Tracker">Issue Tracker</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./CHANGES_md.html">CHANGES</a>
  
    <li><a href="./LICENSE.html">LICENSE</a>
  
    <li><a href="./README_md.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.md">

<h1 id="label-TZInfo+-+Ruby+Time+Zone+Library"><a href="TZInfo.html"><code>TZInfo</code></a> - Ruby Time Zone Library<span><a href="#label-TZInfo+-+Ruby+Time+Zone+Library">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="https://rubygems.org/gems/tzinfo"><img src="https://img.shields.io/gem/v/tzinfo"></a> <a href="https://travis-ci.com/github/tzinfo/tzinfo"><img src="https://img.shields.io/travis/com/tzinfo/tzinfo?logo=travis"></a> <a href="https://ci.appveyor.com/project/philr/tzinfo"><img src="https://img.shields.io/appveyor/build/philr/tzinfo?logo=appveyor"></a></p>

<p><a href="https://tzinfo.github.io">TZInfo</a> is a Ruby library that provides access to time zone data and allows times to be converted using time zone rules.</p>

<h2 id="label-Data+Sources">Data Sources<span><a href="#label-Data+Sources">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="TZInfo.html"><code>TZInfo</code></a> requires a source of time zone data. There are two options:</p>
<ol><li>
<p>A zoneinfo directory containing timezone definition files. These files are  generated from the <a href="https://www.iana.org/time-zones">IANA Time Zone Database</a>  using the <code>zic</code> utility. Most Unix-like systems include a zoneinfo directory.</p>
</li><li>
<p>The TZInfo::Data library (the tzinfo-data gem). TZInfo::Data contains a set  of Ruby modules that are also generated from the IANA Time Zone Database.</p>
</li></ol>

<p>By default, <a href="TZInfo.html"><code>TZInfo</code></a> will attempt to use TZInfo::Data. If TZInfo::Data is not available (i.e. if <code>require &#39;tzinfo/data&#39;</code> fails), then <a href="TZInfo.html"><code>TZInfo</code></a> will search for a zoneinfo directory instead (using the search path specified by <code>TZInfo::ZoneinfoDataSource::DEFAULT_SEARCH_PATH</code>).</p>

<p>If no data source can be found, a <code>TZInfo::DataSourceNotFound</code> exception will be raised when <a href="TZInfo.html"><code>TZInfo</code></a> is used. Further information is available <a href="https://tzinfo.github.io/datasourcenotfound">in the wiki</a> to help resolve <code>TZInfo::DataSourceNotFound</code> errors.</p>

<p>The default data source selection can be overridden by calling <code>TZInfo::DataSource.set</code>.</p>

<p>Custom data sources can also be used. See the <code>TZInfo::DataSource.set</code> documentation for further details.</p>

<h2 id="label-Installation">Installation<span><a href="#label-Installation">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The <a href="TZInfo.html"><code>TZInfo</code></a> gem can be installed by running <code>gem install tzinfo</code> or by adding to <code>gem &#39;tzinfo&#39;</code> to your <code>Gemfile</code> and running <code>bundle install</code>.</p>

<p>To use the Ruby modules as the data source, TZInfo::Data will also need to be installed by running <code>gem install tzinfo-data</code> or by adding <code>gem &#39;tzinfo-data&#39;</code> to your <code>Gemfile</code>.</p>

<h2 id="label-IANA+Time+Zone+Database">IANA Time Zone Database<span><a href="#label-IANA+Time+Zone+Database">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The data returned and used by <a href="TZInfo.html"><code>TZInfo</code></a> is sourced from the <a href="http://www.iana.org/time-zones">IANA Time Zone Database</a>. The <a href="https://data.iana.org/time-zones/theory.html">Theory and pragmatics of the tz code and data</a> document gives details of how the data is organized and managed.</p>

<h2 id="label-Example+Usage">Example Usage<span><a href="#label-Example+Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>To use <a href="TZInfo.html"><code>TZInfo</code></a>, it must first be required with:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;tzinfo&#39;</span>
</pre>

<p>The <code>TZInfo::Timezone</code> class provides access to time zone data and methods for converting times.</p>

<p>The <code>all_identifiers</code> method returns a list of valid time zone identifiers:</p>

<pre class="ruby"><span class="ruby-identifier">identifiers</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">all_identifiers</span>
<span class="ruby-comment"># =&gt; [&quot;Africa/Adibdjan&quot;, &quot;Africa/Accra&quot;, ..., &quot;Zulu&quot;]</span>
</pre>

<p>A <code>TZInfo::Timezone</code> instance representing an individual time zone can be obtained with <code>TZInfo::Timezone.get</code>:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;America/New_York&#39;</span>)
<span class="ruby-comment"># =&gt; #&lt;TZInfo::DataTimezone: America/New_York&gt;</span>
</pre>

<p>A time can be converted to the local time of the time zone with <code>to_local</code>:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-comment"># =&gt; 2018-02-01 07:30:00 -0500</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-comment"># =&gt; 2018-07-01 08:30:00 -0400</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">13</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-string">&#39;+01:00&#39;</span>))
<span class="ruby-comment"># =&gt; 2018-07-01 08:30:00 -0400</span>
</pre>

<p>Local times with the appropriate offset for the time zone can be constructed with <code>local_time</code>:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; 2018-02-01 07:30:00 -0500</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">8</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; 2018-07-01 08:30:00 -0400</span>
</pre>

<p>Local times can be converted to UTC by using <code>local_time</code> and calling <code>utc</code> on the result:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">utc</span>
<span class="ruby-comment"># =&gt; 2018-02-01 12:30:00 UTC</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">8</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>).<span class="ruby-identifier">utc</span>
<span class="ruby-comment"># =&gt; 2018-07-01 12:30:00 UTC</span>
</pre>

<p>The <code>local_to_utc</code> method can also be used to convert a time object to UTC. The offset of the time is ignored - it is treated as if it were a local time for the time zone:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-comment"># =&gt; 2018-02-01 12:30:00 UTC</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_to_utc</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-string">&#39;+01:00&#39;</span>))
<span class="ruby-comment"># =&gt; 2018-02-01 12:30:00 UTC</span>
</pre>

<p>Information about the time zone can be obtained from returned local times:</p>

<pre class="ruby"><span class="ruby-identifier">local_time</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-identifier">local_time</span>.<span class="ruby-identifier">utc_offset</span>  <span class="ruby-comment"># =&gt; -18000</span>
<span class="ruby-identifier">local_time</span>.<span class="ruby-identifier">dst?</span>        <span class="ruby-comment"># =&gt; false</span>
<span class="ruby-identifier">local_time</span>.<span class="ruby-identifier">zone</span>        <span class="ruby-comment"># =&gt; &quot;EST&quot;</span>

<span class="ruby-identifier">local_time</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-identifier">local_time</span>.<span class="ruby-identifier">utc_offset</span>  <span class="ruby-comment"># =&gt; -14400</span>
<span class="ruby-identifier">local_time</span>.<span class="ruby-identifier">dst?</span>        <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">local_time</span>.<span class="ruby-identifier">zone</span>        <span class="ruby-comment"># =&gt; &quot;EDT&quot;</span>
</pre>

<p>Time zone information can be included when formatting times with <code>strftime</code> using the <code>%z</code> and <code>%Z</code> directives:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)).<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&#39;%Y-%m-%d %H:%M:%S %z %Z&#39;</span>)
<span class="ruby-comment"># =&gt; &quot;2018-02-01 07:30:00 -0500 EST&quot;</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)).<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&#39;%Y-%m-%d %H:%M:%S %z %Z&#39;</span>)
<span class="ruby-comment"># =&gt; &quot;2018-07-01 08:30:00 -0400 EDT&quot;</span>
</pre>

<p>The <code>period_for</code> method can be used to obtain information about the observed time zone information at a particular time as a <code>TZInfo::TimezonePeriod</code> object:</p>

<pre class="ruby"><span class="ruby-identifier">period</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">period_for</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">base_utc_offset</span>          <span class="ruby-comment"># =&gt; -18000</span>
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">std_offset</span>               <span class="ruby-comment"># =&gt; 3600</span>
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">observed_utc_offset</span>      <span class="ruby-comment"># =&gt; -14400</span>
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">abbreviation</span>             <span class="ruby-comment"># =&gt; &quot;EDT&quot;</span>
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">dst?</span>                     <span class="ruby-comment"># =&gt; true</span>
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">local_starts_at</span>.<span class="ruby-identifier">to_time</span>  <span class="ruby-comment"># =&gt; 2018-03-11 03:00:00 -0400</span>
<span class="ruby-identifier">period</span>.<span class="ruby-identifier">local_ends_at</span>.<span class="ruby-identifier">to_time</span>    <span class="ruby-comment"># =&gt; 2018-11-04 02:00:00 -0400</span>
</pre>

<p>A list of transitions between periods where different rules are observed can be obtained with the <code>transitions_up_to</code> method. The result is returned as an <code>Array</code> of <code>TZInfo::TimezoneTransition</code> objects:</p>

<pre class="ruby"><span class="ruby-identifier">transitions</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">transitions_up_to</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2019</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2017</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
<span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
  [<span class="ruby-identifier">t</span>.<span class="ruby-identifier">local_end_at</span>.<span class="ruby-identifier">to_time</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">offset</span>.<span class="ruby-identifier">observed_utc_offset</span>, <span class="ruby-identifier">t</span>.<span class="ruby-identifier">offset</span>.<span class="ruby-identifier">abbreviation</span>]
<span class="ruby-keyword">end</span>
<span class="ruby-comment"># =&gt; [[2017-03-12 02:00:00 -0500, -14400, &quot;EDT&quot;],</span>
<span class="ruby-comment">#     [2017-11-05 02:00:00 -0400, -18000, &quot;EST&quot;],</span>
<span class="ruby-comment">#     [2018-03-11 02:00:00 -0500, -14400, &quot;EDT&quot;],</span>
<span class="ruby-comment">#     [2018-11-04 02:00:00 -0400, -18000, &quot;EST&quot;]]</span>
</pre>

<p>A list of the unique offsets used by a time zone can be obtained with the <code>offsets_up_to</code> method. The result is returned as an <code>Array</code> of <code>TZInfo::TimezoneOffset</code> objects:</p>

<pre class="ruby"><span class="ruby-identifier">offsets</span> = <span class="ruby-identifier">tz</span>.<span class="ruby-identifier">offsets_up_to</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2019</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
<span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">o</span>.<span class="ruby-identifier">observed_utc_offset</span>, <span class="ruby-identifier">o</span>.<span class="ruby-identifier">abbreviation</span>] }
<span class="ruby-comment"># =&gt; [[-17762, &quot;LMT&quot;],</span>
<span class="ruby-comment">#     [-18000, &quot;EST&quot;],</span>
<span class="ruby-comment">#     [-14400, &quot;EDT&quot;],</span>
<span class="ruby-comment">#     [-14400, &quot;EWT&quot;],</span>
<span class="ruby-comment">#     [-14400, &quot;EPT&quot;]]</span>
</pre>

<p>All <code>TZInfo::Timezone</code> methods that accept a time as a parameter can be used with either instances of <code>Time</code>, <code>DateTime</code> or <code>TZInfo::Timestamp</code>. Arbitrary <code>Time</code>-like objects that respond to both <code>to_i</code> and <code>subsec</code> and optionally <code>utc_offset</code> will be treated as if they are instances of <code>Time</code>.</p>

<p><code>TZInfo::Timezone</code> methods that both accept and return times will return an object with a type matching that of the parameter (actually a <code>TZInfo::TimeWithOffset</code>, <code>TZInfo::DateTimeWithOffset</code> or <code>TZInfo::TimestampWithOffset</code> subclass when returning a local time):</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-comment"># =&gt; 2018-07-01 08:30:00 -0400</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-comment"># =&gt; #&lt;TZInfo::DateTimeWithOffset: 2018-07-01T08:30:00-04:00 ((2458301j,45000s,0n),-14400s,2299161j)&gt;</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timestamp</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">7</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-value">:utc</span>))
<span class="ruby-comment"># =&gt; #&lt;TZInfo::TimestampWithOffset: @value=1530448200, @sub_second=0, @utc_offset=-14400, @utc=false&gt;</span>
</pre>

<p>In addition to <code>local_time</code>, which returns <code>Time</code> instances, the <code>local_datetime</code> and <code>local_timestamp</code> methods can be used to construct local <code>DateTime</code> and <code>TZInfo::Timestamp</code> instances with the appropriate offset:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; 2018-02-01 07:30:00 -0500</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_datetime</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; #&lt;TZInfo::DateTimeWithOffset: 2018-02-01T07:30:00-05:00 ((2458151j,45000s,0n),-18000s,2299161j)&gt;</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_timestamp</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">7</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; #&lt;TZInfo::TimestampWithOffset: @value=1517488200, @sub_second=0, @utc_offset=-18000, @utc=false&gt;</span>
</pre>

<p>The <code>local_to_utc</code>, <code>local_time</code>, <code>local_datetime</code> and <code>local_timestamp</code> methods may raise a <code>TZInfo::PeriodNotFound</code> or a <code>TZInfo::AmbiguousTime</code> exception. <code>TZInfo::PeriodNotFound</code> signals that there is no equivalent UTC time (for example, during the transition from standard time to daylight savings time when the clocks are moved forward and an hour is skipped). <code>TZInfo::AmbiguousTime</code> signals that there is more than one equivalent UTC time (for example, during the transition from daylight savings time to standard time where the clocks are moved back and an hour is repeated):</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">3</span>, <span class="ruby-value">11</span>, <span class="ruby-value">2</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># raises TZInfo::PeriodNotFound (2018-03-11 02:30:00 is an invalid local time.)</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># raises TZInfo::AmbiguousTime (2018-11-04 01:30:00 is an ambiguous local time.)</span>
</pre>

<p><code>TZInfo::PeriodNotFound</code> exceptions can only be resolved by adjusting the time, for example, by advancing an hour:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">3</span>, <span class="ruby-value">11</span>, <span class="ruby-value">3</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; 2018-03-11 03:30:00 -0400</span>
</pre>

<p><code>TZInfo::AmbiguousTime</code> exceptions can be resolved by setting the <code>dst</code> parameter and/or specifying a block to choose one of the interpretations:</p>

<pre class="ruby"><span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">true</span>)
<span class="ruby-comment"># =&gt; 2018-11-04 01:30:00 -0400</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>)
<span class="ruby-comment"># =&gt; 2018-11-04 01:30:00 -0500</span>

<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">first</span> }
<span class="ruby-comment"># =&gt; 2018-11-04 01:30:00 -0400</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">last</span> }
<span class="ruby-comment"># =&gt; 2018-11-04 01:30:00 -0500</span>
</pre>

<p>The default value of the <code>dst</code> parameter can also be set globally:</p>

<pre class="ruby"><span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span> = <span class="ruby-keyword">true</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; 2018-11-04 01:30:00 -0400</span>
<span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Timezone</span>.<span class="ruby-identifier">default_dst</span> = <span class="ruby-keyword">false</span>
<span class="ruby-identifier">tz</span>.<span class="ruby-identifier">local_time</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">11</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>)
<span class="ruby-comment"># =&gt; 2018-11-04 01:30:00 -0500</span>
</pre>

<p><a href="TZInfo.html"><code>TZInfo</code></a> also provides information about <a href="https://www.iso.org/iso-3166-country-codes.html">ISO 3166-1</a> countries and their associated time zones via the <code>TZInfo::Country</code> class.</p>

<p>A list of valid ISO 3166-1 (alpha-2) country codes can be obtained by calling <code>TZInfo::Country.all_codes</code>:</p>

<pre class="ruby"><span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Country</span>.<span class="ruby-identifier">all_codes</span>
<span class="ruby-comment"># =&gt; [&quot;AD&quot;, &quot;AE&quot;, ..., &quot;ZW&quot;]</span>
</pre>

<p>A <code>TZInfo::Country</code> instance representing an individual time zone can be obtained with <code>TZInfo::Country.get</code>:</p>

<pre class="ruby"><span class="ruby-identifier">c</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Country</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;US&#39;</span>)
<span class="ruby-comment"># =&gt; #&lt;TZInfo::Country: US&gt;</span>
<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>
<span class="ruby-comment"># =&gt; &quot;United States&quot;</span>
</pre>

<p>The <code>zone_identifiers</code> method returns a list of the time zone identifiers used in a country:</p>

<pre class="ruby"><span class="ruby-identifier">c</span>.<span class="ruby-identifier">zone_identifiers</span>
<span class="ruby-comment"># =&gt; [&quot;America/New_York&quot;, &quot;America/Detroit&quot;, ..., &quot;Pacific/Honolulu&quot;]</span>
</pre>

<p>The <code>zone_info</code> method returns further information about the time zones used in a country as an <code>Array</code> of <code>TZInfo::CountryTimezone</code> instances:</p>

<pre class="ruby"><span class="ruby-identifier">zi</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">zone_info</span>.<span class="ruby-identifier">first</span>
<span class="ruby-identifier">zi</span>.<span class="ruby-identifier">identifier</span>               <span class="ruby-comment"># =&gt; &quot;America/New_York&quot;</span>
<span class="ruby-identifier">zi</span>.<span class="ruby-identifier">latitude</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>(<span class="ruby-value">5</span>)   <span class="ruby-comment"># =&gt; 40.71417</span>
<span class="ruby-identifier">zi</span>.<span class="ruby-identifier">longitude</span>.<span class="ruby-identifier">to_f</span>.<span class="ruby-identifier">round</span>(<span class="ruby-value">5</span>)  <span class="ruby-comment"># =&gt; -74.00639</span>
<span class="ruby-identifier">zi</span>.<span class="ruby-identifier">description</span>              <span class="ruby-comment"># =&gt; &quot;Eastern (most areas)&quot;</span>
</pre>

<p>The <code>zones</code> method returns an <code>Array</code> of <code>TZInfo::Timezone</code> instances for a country. A <code>TZInfo::Timezone</code> instance can be obtained from a <code>TZInfo::CountryTimezone</code> using the <code>timezone</code> method:</p>

<pre class="ruby"><span class="ruby-identifier">zi</span>.<span class="ruby-identifier">timezone</span>.<span class="ruby-identifier">to_local</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2018</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>))
<span class="ruby-comment"># =&gt; 2018-02-01 07:30:00 -0500</span>
</pre>

<p>For further detail, please refer to the API documentation for the <code>TZInfo::Timezone</code> and <code>TZInfo::Country</code> classes.</p>

<h2 id="label-Time+Zone+Selection">Time Zone Selection<span><a href="#label-Time+Zone+Selection">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The Time Zone Database maintainers recommend that time zone identifiers are not made visible to end-users (see <a href="https://data.iana.org/time-zones/theory.html#naming">Names of timezones</a>).</p>

<p>Instead of displaying a list of time zone identifiers, time zones can be selected by the user&#39;s country. Call <code>TZInfo::Country.all</code> to obtain a list of <code>TZInfo::Country</code> objects, each with a unique <code>code</code> and a <code>name</code> that can be used for display purposes.</p>

<p>Most countries have a single time zone. When choosing such a country, the time zone can be inferred and selected automatically.</p>

<pre class="ruby"><span class="ruby-identifier">croatia</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Country</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;HR&#39;</span>)
<span class="ruby-comment"># =&gt; #&lt;TZInfo::Country: HR&gt;</span>
<span class="ruby-identifier">croatia</span>.<span class="ruby-identifier">zone_info</span>.<span class="ruby-identifier">length</span>
<span class="ruby-comment"># =&gt; 1</span>
<span class="ruby-identifier">croatia</span>.<span class="ruby-identifier">zone_info</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">identifier</span>
<span class="ruby-comment"># =&gt; &quot;Europe/Belgrade&quot;</span>
</pre>

<p>Some countries have multiple time zones. The <code>zone_info</code> method can be used to obtain a list of user-friendly descriptions of the available options:</p>

<pre class="ruby"><span class="ruby-identifier">australia</span> = <span class="ruby-constant">TZInfo</span><span class="ruby-operator">::</span><span class="ruby-constant">Country</span>.<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;AU&#39;</span>)
<span class="ruby-comment"># =&gt; #&lt;TZInfo::Country: AU&gt;</span>
<span class="ruby-identifier">australia</span>.<span class="ruby-identifier">zone_info</span>.<span class="ruby-identifier">length</span>
<span class="ruby-comment"># =&gt; 13</span>
<span class="ruby-identifier">australia</span>.<span class="ruby-identifier">zone_info</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">i</span>.<span class="ruby-identifier">identifier</span>, <span class="ruby-identifier">i</span>.<span class="ruby-identifier">description</span>] }
<span class="ruby-comment"># =&gt; [[&quot;Australia/Lord_Howe&quot;, &quot;Lord Howe Island&quot;],</span>
<span class="ruby-comment">#     [&quot;Antarctica/Macquarie&quot;, &quot;Macquarie Island&quot;],</span>
<span class="ruby-comment">#     ...</span>
<span class="ruby-comment">#     [&quot;Australia/Eucla&quot;, &quot;Western Australia (Eucla)&quot;]]</span>
</pre>

<p>Please note that country information available through <a href="TZInfo.html"><code>TZInfo</code></a> is intended as an aid to help users select a time zone data appropriate for their practical needs. It is not intended to take or endorse any position on legal or territorial claims.</p>

<h2 id="label-Compatibility">Compatibility<span><a href="#label-Compatibility">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="TZInfo.html"><code>TZInfo</code></a> v2.0.0 requires a minimum of Ruby MRI 1.9.3 or JRuby 1.7 (in 1.9 mode or later).</p>

<h2 id="label-Thread-Safety">Thread-Safety<span><a href="#label-Thread-Safety">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The <code>TZInfo::Country</code> and <code>TZInfo::Timezone</code> classes are thread-safe. It is safe to use class and instance methods of <code>TZInfo::Country</code> and <code>TZInfo::Timezone</code> in concurrently executing threads. Instances of both classes can be shared across thread boundaries.</p>

<h2 id="label-Documentation">Documentation<span><a href="#label-Documentation">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>API documentation for <a href="TZInfo.html"><code>TZInfo</code></a> is available on <a href="https://www.rubydoc.info/gems/tzinfo/">RubyDoc.info</a>.</p>

<h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="TZInfo.html"><code>TZInfo</code></a> is released under the MIT license, see <a href="LICENSE.html">LICENSE</a> for details.</p>

<h2 id="label-Source+Code">Source Code<span><a href="#label-Source+Code">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Source code for <a href="TZInfo.html"><code>TZInfo</code></a> is available on <a href="https://github.com/tzinfo/tzinfo">GitHub</a>.</p>

<h2 id="label-Issue+Tracker">Issue Tracker<span><a href="#label-Issue+Tracker">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Please post any bugs, issues, feature requests or questions about <a href="TZInfo.html"><code>TZInfo</code></a> to the <a href="https://github.com/tzinfo/tzinfo/issues">GitHub issue tracker</a>.</p>

<p>Issues with the underlying time zone data should be raised on the <a href="https://mm.icann.org/mailman/listinfo/tz">Time Zone Database Discussion mailing list</a>.</p>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

